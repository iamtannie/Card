<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CardviewTan</title>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
    crossorigin="anonymous"></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <style>
    
    #search{
      background-color: black;
      color: whitesmoke;
    }
    #btn1 {
      background-color: gray;
      color: pink;
      width: 20%;
      font-style: normal;
      }
    
     #btn-2{
     background-color: gray;
     width: 100%;
     font-style: normal;
     }
    #pic{
      margin-top: center;
      padding: center;
    }
    body{
      font-family: ;
      margin: 20px;
      background-color: gray   
    }
    p.test2 {
    background-color: ;
    width: 250px; 
    border: 10px solid white-space: nowrap;;
    word-break: break-all;
    font-family: fantasy;}
  </style>

<style type="text/css"></style>
</head>

<body>
  <center>
    <h1 style="background-color: pink;color:gray">
      wellcome to my page
      </h1>
    <hr>
    click for show Latitude and Longitude AUTO
    <button id="btn1" type="submit" target="_blank" onclick="getLocation()">SHOW</button>
    <p id="demo"></p>
     
    <script>
      //date
        function dpdate(){
          document.getElementById("showdate").innerHTML=Date();
        }
        //location auto
      var x = document.getElementById("demo");
      function getLocation() {
        if (navigator.geolocation) {
          navigator.geolocation.watchPosition(showPosition);
        } else {
          x.innerHTML = "Geolocation is not supported by this browser.";
        }
      }
      function showPosition(position) {
        x.innerHTML = "Latitude: " + position.coords.latitude +
          "<br>Longitude: " + position.coords.longitude;
      }
    </script>
  </center>

  <center>
  
 <div class="card1" >
    <img src="https://3.bp.blogspot.com/-a0L7vNa4yQ0/UGQvToXnrYI/AAAAAAAAAMs/cYak4piYkmo/s1600/_DSC8782.jpg" alt="Avatar" style="width:100%">
    <caption >เกาะสี่ เกาะห้า @ปากพะยูน,พัทลุง</caption>     
    <hr>
          <input type="text" id="la" placeholder="Latitude" size="20">
           <input type="text" id="lo" placeholder="Longitude" size="20">
           <button id="search"  >Dowload</button>
           
           
         <h3 >Weather</h3>
          <p class="test2">
            <span id="name1">ชื่อ: </span><br>
            <span id="sys_country1">ประเทศ: </span><br>
            <span id="main_temp1">อุณหภูมิ: </span>°C<br>
            <span id="humidity1">ความชื้น: </span>%<br>
            <span id="sys_sunrise1">พระอาทิตย์ขึ้น: </span><br>
             <span id="sys_sunset1">พระอาทิตย์ตก: </span><br>
             <button id="btn-2" type="button" onclick="dpdate()">show date</button>
            <p id="showdate"></p>  
              </p>
 
     </div>      
 </div> 
  </center> 
   <script>
    function loadweather(){ 
      var url ="https://api.openweathermap.org/data/2.5/weather?lat=7.376078&lon=99.743488&appid=a28d46fac268c82a0dc8eabda7fd2b94&units=metric";
            $.getJSON(url)
             .done((data)=>{
               console.log(data)
                 $("#name").append(data.name);
                 $("#main_temp").append(data.main.temp);
                 $("#humidity").append(data.main.humidity);
                 $("#sys_country").append(data.sys.country);
                 $("#sys_sunrise").append(data.sys.sunrise);
                 $("#sys_sunset").append(data.sys.sunset);
                 
                       })         
            .fail((xhr, status, err)=>{
                     console.log("error")
                 });
           }
             
    function searchweather(){ 
            var url ="https://api.openweathermap.org";
            var a = $("#la").val();
            var b = $("#lo").val();
 
            url = url + "/data/2.5/weather?lat=" + a + "&lon=" + b +"&appid=a28d46fac268c82a0dc8eabda7fd2b94&units=metric"; 
         
             $.getJSON(url)
             .done((data)=>{
               console.log(data)
                 $("#name1").append(data.name);
                 $("#main_temp1").append(data.main.temp);
                 $("#humidity1").append(data.main.humidity);
                 $("#sys_country1").append(data.sys.country);
                 $("#sys_sunrise1").append(data.sys.sunrise);
                 $("#sys_sunset1").append(data.sys.sunset);
                 
                       })         
            .fail((xhr, status, err)=>{
                     console.log("error")
                 });
           }
    
     function reset(){
              $("#la").val("");
              $("#lo").val("");
              $.removeData();
     }
         $(()=>{
             loadweather();
             $("#search").click(searchweather);
              
             $("#reset").click(reset);  
      });
    </script>      
  



</body>

</html>